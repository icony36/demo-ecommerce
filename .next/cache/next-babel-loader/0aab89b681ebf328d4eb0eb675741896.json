{"ast":null,"code":"import _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport React from \"react\";\nimport { createContext, useState } from \"react\";\nconst imagesPath = \"/static/images/items/\";\nconst initItems = [{\n  id: 1,\n  name: \"Rose Creamchese\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m1.png`,\n  desc: `Macarons with rose creamchese`\n}, {\n  id: 2,\n  name: \"Passion Fruit\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m2.png`,\n  desc: `Macarons with passion fruit`\n}, {\n  id: 3,\n  name: \"Blueberry Creamchese\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m3.png`,\n  desc: `Macarons with blueberry creamchese`\n}, {\n  id: 4,\n  name: \"Matcha\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m4.png`,\n  desc: `Macarons with matcha`\n}, {\n  id: 5,\n  name: \"Lavender\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m5.png`,\n  desc: `Macarons with lavender`\n}, {\n  id: 6,\n  name: \"Peanut Butter\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m6.png`,\n  desc: `Macarons with peanut butter`\n}, {\n  id: 7,\n  name: \"Black Sesame\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m7.png`,\n  desc: `Macarons with black sesame`\n}, {\n  id: 8,\n  name: \"Vanilla\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m8.png`,\n  desc: `Macarons with vanilla`\n}, {\n  id: 9,\n  name: \"Strawberry Creamchese\",\n  price: 1.99,\n  imgSrc: `${imagesPath}m9.png`,\n  desc: `Macarons with strawberry creamchese`\n}];\nexport const ShopContext = createContext();\nexport const ShopProvider = props => {\n  const [items, setItems] = useState(initItems);\n  const [cart, setCart] = useState([]);\n  const [totalItems, setTotalItems] = useState(0);\n  const [totalAmounts, setTotalAmounts] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n\n  const checkProduct = id => {\n    return cart.some(item => item.id === id);\n  };\n\n  const addToCart = selectedItem => {\n    if (checkProduct(selectedItem.id)) {\n      console.log(\"Found same item in cart!\");\n      let index = cart.findIndex(x => x.id == selectedItem.id);\n      cart[index].quantity = Number(cart[index].quantity) + Number(selectedItem.quantity);\n      setCart(cart);\n    } else {\n      cart.push(selectedItem);\n    }\n\n    setCart(cart);\n    setQuantity(selectedItem.quantity);\n    sumTotalItems(cart);\n    sumTotalAmounts(cart);\n  };\n\n  const removeFromCart = id => {\n    let index = cart.findIndex(x => x.id == id);\n    cart.splice(index, 1);\n    setCart(cart);\n    sumTotalAmounts(cart);\n    sumTotalItems(cart);\n  };\n\n  const sumTotalItems = () => {\n    let total = 0;\n    total = cart.length;\n    setTotalItems(total);\n  };\n\n  const sumTotalAmounts = () => {\n    let total = 0;\n\n    for (var i = 0; i < cart.length; i++) {\n      total += cart[i].price * _parseInt(cart[i].quantity);\n    }\n\n    setTotalAmounts(Number(Math.round(_parseFloat(total + \"e\" + 2)) + \"e-\" + 2));\n  };\n\n  const updateQuantity = qty => {\n    setQuantity(Math.floor(qty));\n  };\n\n  return React.createElement(ShopContext.Provider, {\n    value: {\n      items,\n      quantity,\n      cart,\n      totalItems,\n      totalAmounts,\n      addToCart,\n      removeFromCart,\n      updateQuantity\n    }\n  }, props.children);\n};","map":{"version":3,"sources":["/Users/iantan/Desktop/Two-Halves-Sucre/source-code/contexts/ShopContext.js"],"names":["createContext","useState","imagesPath","initItems","id","name","price","imgSrc","desc","ShopContext","ShopProvider","props","items","setItems","cart","setCart","totalItems","setTotalItems","totalAmounts","setTotalAmounts","quantity","setQuantity","checkProduct","some","item","addToCart","selectedItem","console","log","index","findIndex","x","Number","push","sumTotalItems","sumTotalAmounts","removeFromCart","splice","total","length","i","Math","round","updateQuantity","qty","floor","children"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;AAEA,MAAMC,UAAU,GAAG,uBAAnB;AAEA,MAAMC,SAAS,GAAG,CACd;AACIC,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,iBAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CADc,EAQd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,eAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CARc,EAed;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,sBAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CAfc,EAsBd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CAtBc,EA6Bd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CA7Bc,EAoCd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,eAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CApCc,EA2Cd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,cAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CA3Cc,EAkDd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CAlDc,EAyDd;AACIJ,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,IAAI,EAAE,uBAFV;AAGIC,EAAAA,KAAK,EAAE,IAHX;AAIIC,EAAAA,MAAM,EAAG,GAAEL,UAAW,QAJ1B;AAKIM,EAAAA,IAAI,EAAG;AALX,CAzDc,CAAlB;AAkEA,OAAO,MAAMC,WAAW,GAAGT,aAAa,EAAjC;AAEP,OAAO,MAAMU,YAAY,GAAGC,KAAK,IAAI;AACjC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAACE,SAAD,CAAlC;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAACiB,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAAC,CAAD,CAAhD;AACA,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,CAAD,CAAxC;;AAEA,QAAMqB,YAAY,GAAGlB,EAAE,IAAI;AACvB,WAAOU,IAAI,CAACS,IAAL,CAAUC,IAAI,IAAIA,IAAI,CAACpB,EAAL,KAAYA,EAA9B,CAAP;AACH,GAFD;;AAIA,QAAMqB,SAAS,GAAGC,YAAY,IAAI;AAC9B,QAAIJ,YAAY,CAACI,YAAY,CAACtB,EAAd,CAAhB,EAAmC;AAC/BuB,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA,UAAIC,KAAK,GAAGf,IAAI,CAACgB,SAAL,CAAeC,CAAC,IAAIA,CAAC,CAAC3B,EAAF,IAAQsB,YAAY,CAACtB,EAAzC,CAAZ;AACAU,MAAAA,IAAI,CAACe,KAAD,CAAJ,CAAYT,QAAZ,GACIY,MAAM,CAAClB,IAAI,CAACe,KAAD,CAAJ,CAAYT,QAAb,CAAN,GAA+BY,MAAM,CAACN,YAAY,CAACN,QAAd,CADzC;AAEAL,MAAAA,OAAO,CAACD,IAAD,CAAP;AACH,KAND,MAMO;AACHA,MAAAA,IAAI,CAACmB,IAAL,CAAUP,YAAV;AACH;;AAEDX,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAO,IAAAA,WAAW,CAACK,YAAY,CAACN,QAAd,CAAX;AACAc,IAAAA,aAAa,CAACpB,IAAD,CAAb;AACAqB,IAAAA,eAAe,CAACrB,IAAD,CAAf;AACH,GAfD;;AAiBA,QAAMsB,cAAc,GAAGhC,EAAE,IAAI;AACzB,QAAIyB,KAAK,GAAGf,IAAI,CAACgB,SAAL,CAAeC,CAAC,IAAIA,CAAC,CAAC3B,EAAF,IAAQA,EAA5B,CAAZ;AACAU,IAAAA,IAAI,CAACuB,MAAL,CAAYR,KAAZ,EAAmB,CAAnB;AACAd,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAqB,IAAAA,eAAe,CAACrB,IAAD,CAAf;AACAoB,IAAAA,aAAa,CAACpB,IAAD,CAAb;AACH,GAND;;AAQA,QAAMoB,aAAa,GAAG,MAAM;AACxB,QAAII,KAAK,GAAG,CAAZ;AACAA,IAAAA,KAAK,GAAGxB,IAAI,CAACyB,MAAb;AACAtB,IAAAA,aAAa,CAACqB,KAAD,CAAb;AACH,GAJD;;AAMA,QAAMH,eAAe,GAAG,MAAM;AAC1B,QAAIG,KAAK,GAAG,CAAZ;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1B,IAAI,CAACyB,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AAClCF,MAAAA,KAAK,IAAIxB,IAAI,CAAC0B,CAAD,CAAJ,CAAQlC,KAAR,GAAgB,UAASQ,IAAI,CAAC0B,CAAD,CAAJ,CAAQpB,QAAjB,CAAzB;AACH;;AACDD,IAAAA,eAAe,CACXa,MAAM,CAACS,IAAI,CAACC,KAAL,CAAW,YAAWJ,KAAK,GAAG,GAAR,GAAc,CAAzB,CAAX,IAA0C,IAA1C,GAAiD,CAAlD,CADK,CAAf;AAGH,GARD;;AAUA,QAAMK,cAAc,GAAGC,GAAG,IAAI;AAC1BvB,IAAAA,WAAW,CAACoB,IAAI,CAACI,KAAL,CAAWD,GAAX,CAAD,CAAX;AACH,GAFD;;AAIA,SACI,oBAAC,WAAD,CAAa,QAAb;AACI,IAAA,KAAK,EAAE;AACHhC,MAAAA,KADG;AAEHQ,MAAAA,QAFG;AAGHN,MAAAA,IAHG;AAIHE,MAAAA,UAJG;AAKHE,MAAAA,YALG;AAMHO,MAAAA,SANG;AAOHW,MAAAA,cAPG;AAQHO,MAAAA;AARG;AADX,KAYKhC,KAAK,CAACmC,QAZX,CADJ;AAgBH,CAxEM","sourcesContent":["import { createContext, useState } from \"react\";\n\nconst imagesPath = \"/static/images/items/\";\n\nconst initItems = [\n    {\n        id: 1,\n        name: \"Rose Creamchese\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m1.png`,\n        desc: `Macarons with rose creamchese`\n    },\n    {\n        id: 2,\n        name: \"Passion Fruit\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m2.png`,\n        desc: `Macarons with passion fruit`\n    },\n    {\n        id: 3,\n        name: \"Blueberry Creamchese\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m3.png`,\n        desc: `Macarons with blueberry creamchese`\n    },\n    {\n        id: 4,\n        name: \"Matcha\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m4.png`,\n        desc: `Macarons with matcha`\n    },\n    {\n        id: 5,\n        name: \"Lavender\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m5.png`,\n        desc: `Macarons with lavender`\n    },\n    {\n        id: 6,\n        name: \"Peanut Butter\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m6.png`,\n        desc: `Macarons with peanut butter`\n    },\n    {\n        id: 7,\n        name: \"Black Sesame\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m7.png`,\n        desc: `Macarons with black sesame`\n    },\n    {\n        id: 8,\n        name: \"Vanilla\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m8.png`,\n        desc: `Macarons with vanilla`\n    },\n    {\n        id: 9,\n        name: \"Strawberry Creamchese\",\n        price: 1.99,\n        imgSrc: `${imagesPath}m9.png`,\n        desc: `Macarons with strawberry creamchese`\n    }\n];\n\nexport const ShopContext = createContext();\n\nexport const ShopProvider = props => {\n    const [items, setItems] = useState(initItems);\n    const [cart, setCart] = useState([]);\n    const [totalItems, setTotalItems] = useState(0);\n    const [totalAmounts, setTotalAmounts] = useState(0);\n    const [quantity, setQuantity] = useState(1);\n\n    const checkProduct = id => {\n        return cart.some(item => item.id === id);\n    };\n\n    const addToCart = selectedItem => {\n        if (checkProduct(selectedItem.id)) {\n            console.log(\"Found same item in cart!\");\n            let index = cart.findIndex(x => x.id == selectedItem.id);\n            cart[index].quantity =\n                Number(cart[index].quantity) + Number(selectedItem.quantity);\n            setCart(cart);\n        } else {\n            cart.push(selectedItem);\n        }\n\n        setCart(cart);\n        setQuantity(selectedItem.quantity);\n        sumTotalItems(cart);\n        sumTotalAmounts(cart);\n    };\n\n    const removeFromCart = id => {\n        let index = cart.findIndex(x => x.id == id);\n        cart.splice(index, 1);\n        setCart(cart);\n        sumTotalAmounts(cart);\n        sumTotalItems(cart);\n    };\n\n    const sumTotalItems = () => {\n        let total = 0;\n        total = cart.length;\n        setTotalItems(total);\n    };\n\n    const sumTotalAmounts = () => {\n        let total = 0;\n        for (var i = 0; i < cart.length; i++) {\n            total += cart[i].price * parseInt(cart[i].quantity);\n        }\n        setTotalAmounts(\n            Number(Math.round(parseFloat(total + \"e\" + 2)) + \"e-\" + 2)\n        );\n    };\n\n    const updateQuantity = qty => {\n        setQuantity(Math.floor(qty));\n    };\n\n    return (\n        <ShopContext.Provider\n            value={{\n                items,\n                quantity,\n                cart,\n                totalItems,\n                totalAmounts,\n                addToCart,\n                removeFromCart,\n                updateQuantity\n            }}\n        >\n            {props.children}\n        </ShopContext.Provider>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}